name: Pull Request Workflow
on:
  pull_request:
    types: [ assigned, opened, synchronize, reopened ]
jobs:
  Colorful-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger a Buildkite Build on PR workflow
        uses: buildkite/trigger-pipeline-action@v1.6.0
        with:
          buildkite-token:  ${{ secrets.TRIGGER_BK_BUILD_TOKEN }} 
          pipeline: "lzrbkorg/trigger-from-gha-demo"      
          branch: ${{ github.ref }}
          commit: ${{ github.sha }}
          message:  ":buildkite::github: ðŸš€ðŸš€ðŸš€ Triggered from GHA On Pull Request: ${{ github.event.head_commit.message }}"      
          build-env-vars: '{"TRIGGERED_FROM_GHA": "true"}'
          build-meta-data: '{"TRIGGERED_FROM_PR": "true"}'
          ignore-pipeline-branch-filter: true     